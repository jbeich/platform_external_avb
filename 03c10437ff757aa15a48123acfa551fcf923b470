{
  "comments": [
    {
      "key": {
        "uuid": "a4a3c754_23bb2772",
        "filename": "avbtool",
        "patchSetId": 7
      },
      "lineNbr": 2091,
      "author": {
        "id": 1451494
      },
      "writtenOn": "2019-12-17T19:20:30Z",
      "side": 1,
      "message": "This can now be removed since we have found the error.",
      "range": {
        "startLine": 2085,
        "startChar": 0,
        "endLine": 2091,
        "endChar": 21
      },
      "revId": "03c10437ff757aa15a48123acfa551fcf923b470",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cc248931_522cbc37",
        "filename": "avbtool",
        "patchSetId": 7
      },
      "lineNbr": 2157,
      "author": {
        "id": 1451494
      },
      "writtenOn": "2019-12-17T19:20:30Z",
      "side": 1,
      "message": "Raises:\n  AvbError: If ...",
      "range": {
        "startLine": 2157,
        "startChar": 0,
        "endLine": 2157,
        "endChar": 7
      },
      "revId": "03c10437ff757aa15a48123acfa551fcf923b470",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "114115b6_618a9072",
        "filename": "avbtool",
        "patchSetId": 7
      },
      "lineNbr": 2157,
      "author": {
        "id": 1451494
      },
      "writtenOn": "2019-12-17T22:08:37Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "cc248931_522cbc37",
      "range": {
        "startLine": 2157,
        "startChar": 0,
        "endLine": 2157,
        "endChar": 7
      },
      "revId": "03c10437ff757aa15a48123acfa551fcf923b470",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "80d60d04_6dd1f772",
        "filename": "avbtool",
        "patchSetId": 7
      },
      "lineNbr": 2164,
      "author": {
        "id": 1451494
      },
      "writtenOn": "2019-12-17T19:20:30Z",
      "side": 1,
      "message": "1) Pls put a link to the documentation for log_root:\nhttps://github.com/google/trillian/blob/master/trillian.proto#L255\n\n2) This should be made into its own class and have it parsed fully. At least put a TODO if you want to defer to later.",
      "range": {
        "startLine": 2164,
        "startChar": 0,
        "endLine": 2164,
        "endChar": 47
      },
      "revId": "03c10437ff757aa15a48123acfa551fcf923b470",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "000452ed_feb0a139",
        "filename": "avbtool",
        "patchSetId": 7
      },
      "lineNbr": 2168,
      "author": {
        "id": 1451494
      },
      "writtenOn": "2019-12-17T19:20:30Z",
      "side": 1,
      "message": "Replace this with a check after this following line:\n   if log_root_version !\u003d 1:\n      raise AvbError(\u0027Unsupported log root version: {}\u0027.format(log_root_version))",
      "range": {
        "startLine": 2168,
        "startChar": 0,
        "endLine": 2168,
        "endChar": 75
      },
      "revId": "03c10437ff757aa15a48123acfa551fcf923b470",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e681ec30_48e1ac7b",
        "filename": "avbtool",
        "patchSetId": 7
      },
      "lineNbr": 2168,
      "author": {
        "id": 1451494
      },
      "writtenOn": "2019-12-17T22:08:37Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "000452ed_feb0a139",
      "range": {
        "startLine": 2168,
        "startChar": 0,
        "endLine": 2168,
        "endChar": 75
      },
      "revId": "03c10437ff757aa15a48123acfa551fcf923b470",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "27b47d46_5e011da6",
        "filename": "avbtool",
        "patchSetId": 7
      },
      "lineNbr": 2172,
      "author": {
        "id": 1451494
      },
      "writtenOn": "2019-12-17T19:20:30Z",
      "side": 1,
      "message": "raise AvbError(\u0027Unsupported hash size.\u0027)",
      "range": {
        "startLine": 2172,
        "startChar": 0,
        "endLine": 2172,
        "endChar": 40
      },
      "revId": "03c10437ff757aa15a48123acfa551fcf923b470",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c49a22eb_152d1c28",
        "filename": "avbtool",
        "patchSetId": 7
      },
      "lineNbr": 2172,
      "author": {
        "id": 1451494
      },
      "writtenOn": "2019-12-17T22:08:37Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "27b47d46_5e011da6",
      "range": {
        "startLine": 2172,
        "startChar": 0,
        "endLine": 2172,
        "endChar": 40
      },
      "revId": "03c10437ff757aa15a48123acfa551fcf923b470",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bd4e5342_24d2a620",
        "filename": "avbtool",
        "patchSetId": 7
      },
      "lineNbr": 3516,
      "author": {
        "id": 1451494
      },
      "writtenOn": "2019-12-17T19:20:30Z",
      "side": 1,
      "message": "Add a new line before this comment to make better readable.",
      "range": {
        "startLine": 3516,
        "startChar": 0,
        "endLine": 3516,
        "endChar": 56
      },
      "revId": "03c10437ff757aa15a48123acfa551fcf923b470",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4c7d8e3a_9f3c534d",
        "filename": "avbtool",
        "patchSetId": 7
      },
      "lineNbr": 3516,
      "author": {
        "id": 1451494
      },
      "writtenOn": "2019-12-17T22:08:37Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "bd4e5342_24d2a620",
      "range": {
        "startLine": 3516,
        "startChar": 0,
        "endLine": 3516,
        "endChar": 56
      },
      "revId": "03c10437ff757aa15a48123acfa551fcf923b470",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bef3cdfd_ae559411",
        "filename": "avbtool",
        "patchSetId": 7
      },
      "lineNbr": 3654,
      "author": {
        "id": 1451494
      },
      "writtenOn": "2019-12-17T19:45:52Z",
      "side": 1,
      "message": "These are currently flagged by linter as:\nW:3629,27: Unused argument \u0027signing_helper\u0027 (unused-argument)\nW:3629,43: Unused argument \u0027signing_helper_with_files\u0027 (unused-argument)\n\nI suggest you an implement a check for these params and raise an AvbError saying that these parameters are currently not supported.",
      "range": {
        "startLine": 3653,
        "startChar": 0,
        "endLine": 3654,
        "endChar": 79
      },
      "revId": "03c10437ff757aa15a48123acfa551fcf923b470",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ce7eb5ce_938d7e8a",
        "filename": "avbtool",
        "patchSetId": 7
      },
      "lineNbr": 3654,
      "author": {
        "id": 1451494
      },
      "writtenOn": "2019-12-17T22:08:37Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "bef3cdfd_ae559411",
      "range": {
        "startLine": 3653,
        "startChar": 0,
        "endLine": 3654,
        "endChar": 79
      },
      "revId": "03c10437ff757aa15a48123acfa551fcf923b470",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6c611c1c_400832b5",
        "filename": "avbtool",
        "patchSetId": 7
      },
      "lineNbr": 3679,
      "author": {
        "id": 1451494
      },
      "writtenOn": "2019-12-17T19:20:30Z",
      "side": 1,
      "message": "Add a comment above:\n\n# Validates command line parameters.",
      "range": {
        "startLine": 3679,
        "startChar": 0,
        "endLine": 3679,
        "endChar": 29
      },
      "revId": "03c10437ff757aa15a48123acfa551fcf923b470",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ef9ff68f_2cc1c69d",
        "filename": "avbtool",
        "patchSetId": 7
      },
      "lineNbr": 3679,
      "author": {
        "id": 1451494
      },
      "writtenOn": "2019-12-17T22:08:37Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "6c611c1c_400832b5",
      "range": {
        "startLine": 3679,
        "startChar": 0,
        "endLine": 3679,
        "endChar": 29
      },
      "revId": "03c10437ff757aa15a48123acfa551fcf923b470",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bce4ed0a_452297a9",
        "filename": "avbtool",
        "patchSetId": 7
      },
      "lineNbr": 3697,
      "author": {
        "id": 1451494
      },
      "writtenOn": "2019-12-17T19:20:30Z",
      "side": 1,
      "message": "Add comment above:\n# Retrieves vbmeta structure from given partition image.",
      "range": {
        "startLine": 3697,
        "startChar": 0,
        "endLine": 3697,
        "endChar": 43
      },
      "revId": "03c10437ff757aa15a48123acfa551fcf923b470",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "96d36248_8b23045c",
        "filename": "avbtool",
        "patchSetId": 7
      },
      "lineNbr": 3697,
      "author": {
        "id": 1451494
      },
      "writtenOn": "2019-12-17T19:41:25Z",
      "side": 1,
      "message": "This is still broken:\n\njpm@jpm-android:~/android/aosp-libavb/external/avb$ ./avbtool make_icp_from_vbmeta   --vbmeta_image_path vbmeta_icp.img   --output ./vbmeta_icp.img   --version_incremental only_for_testing   --transparency_log_servers log.endpoints.aftl-dev.cloud.goog:80   --transparency_log_pub_keys transparency_key2.pub   --key ~/android/aosp-libavb/external/avb/test/data/testkey_rsa4096.pem   --manufacturer_key manufacturer_key_4096.rsa   --algorithm SHA256_RSA4096\nTraceback (most recent call last):\n  File \"./avbtool\", line 5638, in \u003cmodule\u003e\n    tool.run(sys.argv)\n  File \"./avbtool\", line 5452, in run\n    args.func(args)\n  File \"./avbtool\", line 5493, in make_icp_from_vbmeta\n    args.padding_size)\n  File \"./avbtool\", line 3699, in make_icp_from_vbmeta\n    image \u003d ImageHandler(vbmeta_image_path)\n  File \"./avbtool\", line 757, in __init__\n    self._read_header()\n  File \"./avbtool\", line 779, in _read_header\n    _) \u003d struct.unpack(self.HEADER_FORMAT, header_bin)\nstruct.error: unpack requires a string argument of length 28",
      "range": {
        "startLine": 3697,
        "startChar": 12,
        "endLine": 3697,
        "endChar": 43
      },
      "revId": "03c10437ff757aa15a48123acfa551fcf923b470",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "81bbc327_dfcc1d6b",
        "filename": "avbtool",
        "patchSetId": 7
      },
      "lineNbr": 3706,
      "author": {
        "id": 1451494
      },
      "writtenOn": "2019-12-17T19:20:30Z",
      "side": 1,
      "message": "Add comment above:\n\n# Fetches inclusion proofs for vbmeta structure from all transparency logs.",
      "range": {
        "startLine": 3706,
        "startChar": 0,
        "endLine": 3706,
        "endChar": 20
      },
      "revId": "03c10437ff757aa15a48123acfa551fcf923b470",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0b9e3c85_03e5ef35",
        "filename": "avbtool",
        "patchSetId": 7
      },
      "lineNbr": 3706,
      "author": {
        "id": 1451494
      },
      "writtenOn": "2019-12-17T22:08:37Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "81bbc327_dfcc1d6b",
      "range": {
        "startLine": 3706,
        "startChar": 0,
        "endLine": 3706,
        "endChar": 20
      },
      "revId": "03c10437ff757aa15a48123acfa551fcf923b470",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "02197df9_68ca7347",
        "filename": "avbtool",
        "patchSetId": 7
      },
      "lineNbr": 3707,
      "author": {
        "id": 1451494
      },
      "writtenOn": "2019-12-17T19:28:17Z",
      "side": 1,
      "message": "At times it can take a while for ICP to be fetched.\n\nWe should to give some output to the user that inclusion proofs are now request and it might take up to 30 seconds.\n\nI\u0027d like to avoid that users think that the command is dead and unnecessarily abort the request.",
      "range": {
        "startLine": 3707,
        "startChar": 0,
        "endLine": 3707,
        "endChar": 67
      },
      "revId": "03c10437ff757aa15a48123acfa551fcf923b470",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "63aad270_24894de3",
        "filename": "avbtool",
        "patchSetId": 7
      },
      "lineNbr": 3707,
      "author": {
        "id": 1451494
      },
      "writtenOn": "2019-12-17T22:08:37Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "02197df9_68ca7347",
      "range": {
        "startLine": 3707,
        "startChar": 0,
        "endLine": 3707,
        "endChar": 67
      },
      "revId": "03c10437ff757aa15a48123acfa551fcf923b470",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ffb752c4_58e19652",
        "filename": "avbtool",
        "patchSetId": 7
      },
      "lineNbr": 3709,
      "author": {
        "id": 1451494
      },
      "writtenOn": "2019-12-17T19:28:17Z",
      "side": 1,
      "message": "Add user output that ICP is now request from transparency log with domain XYZ.",
      "range": {
        "startLine": 3709,
        "startChar": 0,
        "endLine": 3709,
        "endChar": 79
      },
      "revId": "03c10437ff757aa15a48123acfa551fcf923b470",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e75be155_85942cd1",
        "filename": "avbtool",
        "patchSetId": 7
      },
      "lineNbr": 3725,
      "author": {
        "id": 1451494
      },
      "writtenOn": "2019-12-17T19:20:30Z",
      "side": 1,
      "message": "Add comment above:\n# Prepares the inclusion proof blog that will be appended to the vbmeta image.",
      "range": {
        "startLine": 3725,
        "startChar": 0,
        "endLine": 3725,
        "endChar": 27
      },
      "revId": "03c10437ff757aa15a48123acfa551fcf923b470",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "351f7d70_81fdf2a1",
        "filename": "avbtool",
        "patchSetId": 7
      },
      "lineNbr": 3725,
      "author": {
        "id": 1451494
      },
      "writtenOn": "2019-12-17T22:08:37Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "e75be155_85942cd1",
      "range": {
        "startLine": 3725,
        "startChar": 0,
        "endLine": 3725,
        "endChar": 27
      },
      "revId": "03c10437ff757aa15a48123acfa551fcf923b470",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "22c4afc0_a308879b",
        "filename": "avbtool",
        "patchSetId": 7
      },
      "lineNbr": 3740,
      "author": {
        "id": 1451494
      },
      "writtenOn": "2019-12-17T19:20:30Z",
      "side": 1,
      "message": "Add comment above:\n# Writes vbmeta image with inclusion proof into a new vbmeta image.",
      "range": {
        "startLine": 3740,
        "startChar": 0,
        "endLine": 3740,
        "endChar": 18
      },
      "revId": "03c10437ff757aa15a48123acfa551fcf923b470",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9c120bb1_8fcaae0d",
        "filename": "avbtool",
        "patchSetId": 7
      },
      "lineNbr": 3740,
      "author": {
        "id": 1451494
      },
      "writtenOn": "2019-12-17T22:08:37Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "22c4afc0_a308879b",
      "range": {
        "startLine": 3740,
        "startChar": 0,
        "endLine": 3740,
        "endChar": 18
      },
      "revId": "03c10437ff757aa15a48123acfa551fcf923b470",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}