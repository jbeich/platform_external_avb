{
  "comments": [
    {
      "key": {
        "uuid": "9dd24a71_454785b8",
        "filename": "Android.bp",
        "patchSetId": 1
      },
      "lineNbr": 324,
      "author": {
        "id": 1088076
      },
      "writtenOn": "2020-05-08T06:26:00Z",
      "side": 1,
      "message": "Should this disable windows target? Somehow build still fails with error:\n\nerror: external/avb/Android.bp:302:1: dependency \"simg2img\" of \"libavb_host_unittest\" missing variant:\n  os:windows, arch:x86_64\navailable variants:\n  os:android, image:, arch:arm64_armv8-a, sdk:, version:\n  os:linux_glibc, arch:x86_64\n  os:windows, arch:x86\n23:25:21 soong bootstrap failed with: exit status 1",
      "range": {
        "startLine": 322,
        "startChar": 0,
        "endLine": 324,
        "endChar": 10
      },
      "revId": "74a6871e8c8f15911b94335f0a46bb9c830a7b5e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8952e6bd_d03b66f1",
        "filename": "Android.bp",
        "patchSetId": 1
      },
      "lineNbr": 324,
      "author": {
        "id": 1088076
      },
      "writtenOn": "2020-05-08T06:48:02Z",
      "side": 1,
      "message": "The approach seems can work for cc_test(?), based on this thread:\nhttps://groups.google.com/g/android-building/c/CSOUMOhFlhI\n\nCould it be that soong has a bug translating cc_test_host?\n\n+ccross",
      "parentUuid": "9dd24a71_454785b8",
      "range": {
        "startLine": 322,
        "startChar": 0,
        "endLine": 324,
        "endChar": 10
      },
      "revId": "74a6871e8c8f15911b94335f0a46bb9c830a7b5e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "13ffeada_3af3024c",
        "filename": "Android.bp",
        "patchSetId": 1
      },
      "lineNbr": 324,
      "author": {
        "id": 1088076
      },
      "writtenOn": "2020-05-08T06:58:05Z",
      "side": 1,
      "message": "The other thing I tried is to update system/core/libsparse/Android.bp\nfor cc_binary simg2img\nI also added:\n    target: {\n        windows: {\n            enabled: false,\n        },\n    },\n\nSomehow building libavb_host_unittest gave me the same output. simg2img has target windows disabled with above change, but somehow the build system think it still has variant  \"os:windows, arch:x86\"",
      "parentUuid": "8952e6bd_d03b66f1",
      "range": {
        "startLine": 322,
        "startChar": 0,
        "endLine": 324,
        "endChar": 10
      },
      "revId": "74a6871e8c8f15911b94335f0a46bb9c830a7b5e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "304fdb52_4c1e634a",
        "filename": "Android.bp",
        "patchSetId": 1
      },
      "lineNbr": 324,
      "author": {
        "id": 1088076
      },
      "writtenOn": "2020-05-08T07:02:29Z",
      "side": 1,
      "message": "It seems that \"device_supported: false,\" can affect the available variant. With that change for simg2img, \"os:android\" won\u0027t show up in available variant.\nSomehow target.windows.enabled doesn\u0027t have the same effect.",
      "parentUuid": "13ffeada_3af3024c",
      "range": {
        "startLine": 322,
        "startChar": 0,
        "endLine": 324,
        "endChar": 10
      },
      "revId": "74a6871e8c8f15911b94335f0a46bb9c830a7b5e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c1819b46_9b923bcf",
        "filename": "Android.bp",
        "patchSetId": 1
      },
      "lineNbr": 324,
      "author": {
        "id": 1002751
      },
      "writtenOn": "2020-05-08T19:26:48Z",
      "side": 1,
      "message": "What\u0027s the full error?",
      "parentUuid": "304fdb52_4c1e634a",
      "range": {
        "startLine": 322,
        "startChar": 0,
        "endLine": 324,
        "endChar": 10
      },
      "revId": "74a6871e8c8f15911b94335f0a46bb9c830a7b5e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f4b13e27_40577d1f",
        "filename": "Android.bp",
        "patchSetId": 1
      },
      "lineNbr": 324,
      "author": {
        "id": 1088076
      },
      "writtenOn": "2020-05-08T19:33:07Z",
      "side": 1,
      "message": "https://paste.googleplex.com/5715009361412096",
      "parentUuid": "c1819b46_9b923bcf",
      "range": {
        "startLine": 322,
        "startChar": 0,
        "endLine": 324,
        "endChar": 10
      },
      "revId": "74a6871e8c8f15911b94335f0a46bb9c830a7b5e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    }
  ]
}